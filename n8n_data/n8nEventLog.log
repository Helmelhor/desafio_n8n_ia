{"__type":"$$EventMessageWorkflow","id":"d93a6316-5d20-4913-b95d-e4725d997d92","ts":"2025-08-23T16:40:01.421-03:00","eventName":"n8n.workflow.started","message":"n8n.workflow.started","payload":{"executionId":"299","workflowId":"qeaIRuNh4K2cdkss","isManual":false,"workflowName":"My workflow 2"}}
{"__type":"$$EventMessageConfirm","confirm":"d93a6316-5d20-4913-b95d-e4725d997d92","ts":"2025-08-23T16:40:01.421-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"42241de8-7067-4f15-86cc-f138980ea003","ts":"2025-08-23T16:40:01.422-03:00","eventName":"n8n.node.started","message":"n8n.node.started","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"n8n-nodes-base.webhook","nodeName":"Webhook","nodeId":"24da5d8a-0a57-4995-978c-995c1b91f963"}}
{"__type":"$$EventMessageConfirm","confirm":"42241de8-7067-4f15-86cc-f138980ea003","ts":"2025-08-23T16:40:01.422-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"e81d1320-1a25-4ebb-8f64-c6c51efa691c","ts":"2025-08-23T16:40:01.424-03:00","eventName":"n8n.node.finished","message":"n8n.node.finished","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"n8n-nodes-base.webhook","nodeName":"Webhook","nodeId":"24da5d8a-0a57-4995-978c-995c1b91f963"}}
{"__type":"$$EventMessageConfirm","confirm":"e81d1320-1a25-4ebb-8f64-c6c51efa691c","ts":"2025-08-23T16:40:01.424-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"a0eac19d-b3b2-4d85-83e4-6ee01c59753a","ts":"2025-08-23T16:40:01.425-03:00","eventName":"n8n.node.started","message":"n8n.node.started","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"n8n-nodes-base.set","nodeName":"Setando id banco memoria","nodeId":"91259224-620d-46f5-b26b-db6344342638"}}
{"__type":"$$EventMessageConfirm","confirm":"a0eac19d-b3b2-4d85-83e4-6ee01c59753a","ts":"2025-08-23T16:40:01.425-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"778b86d9-b563-4aff-a83e-4b6d6e983bb2","ts":"2025-08-23T16:40:01.431-03:00","eventName":"n8n.node.finished","message":"n8n.node.finished","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"n8n-nodes-base.set","nodeName":"Setando id banco memoria","nodeId":"91259224-620d-46f5-b26b-db6344342638"}}
{"__type":"$$EventMessageConfirm","confirm":"778b86d9-b563-4aff-a83e-4b6d6e983bb2","ts":"2025-08-23T16:40:01.431-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"16bbe294-dc81-4dc4-b0a5-f009f87b6304","ts":"2025-08-23T16:40:01.431-03:00","eventName":"n8n.node.started","message":"n8n.node.started","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"@n8n/n8n-nodes-langchain.agent","nodeName":"AI Agent","nodeId":"b67ac62a-21c2-4648-9299-5b842ed637e4"}}
{"__type":"$$EventMessageConfirm","confirm":"16bbe294-dc81-4dc4-b0a5-f009f87b6304","ts":"2025-08-23T16:40:01.432-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"298324e9-9033-46fa-bdcc-2a62608a34dd","ts":"2025-08-23T16:40:01.554-03:00","eventName":"n8n.node.started","message":"n8n.node.started","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"@n8n/n8n-nodes-langchain.memoryPostgresChat","nodeName":"Postgres Chat Memory","nodeId":"a48edab1-e7ea-4f74-9dbf-4eb67edd78db"}}
{"__type":"$$EventMessageConfirm","confirm":"298324e9-9033-46fa-bdcc-2a62608a34dd","ts":"2025-08-23T16:40:01.554-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"d5a806f2-1b0e-4b9b-8c14-7fb6a229230c","ts":"2025-08-23T16:40:01.713-03:00","eventName":"n8n.node.finished","message":"n8n.node.finished","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"@n8n/n8n-nodes-langchain.memoryPostgresChat","nodeName":"Postgres Chat Memory","nodeId":"a48edab1-e7ea-4f74-9dbf-4eb67edd78db"}}
{"__type":"$$EventMessageConfirm","confirm":"d5a806f2-1b0e-4b9b-8c14-7fb6a229230c","ts":"2025-08-23T16:40:01.713-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"08b88d2b-4fd4-4a05-9ec9-2ba6ae0c9ab3","ts":"2025-08-23T16:40:02.767-03:00","eventName":"n8n.node.started","message":"n8n.node.started","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"@n8n/n8n-nodes-langchain.lmChatOpenAi","nodeName":"OpenAI Chat Model","nodeId":"e4dc7e9d-7cc0-4214-89a7-3390ff8a48cc"}}
{"__type":"$$EventMessageConfirm","confirm":"08b88d2b-4fd4-4a05-9ec9-2ba6ae0c9ab3","ts":"2025-08-23T16:40:02.768-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"e9a4de60-54d6-494f-bfab-799401a75255","ts":"2025-08-23T16:40:04.359-03:00","eventName":"n8n.node.finished","message":"n8n.node.finished","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"@n8n/n8n-nodes-langchain.lmChatOpenAi","nodeName":"OpenAI Chat Model","nodeId":"e4dc7e9d-7cc0-4214-89a7-3390ff8a48cc"}}
{"__type":"$$EventMessageConfirm","confirm":"e9a4de60-54d6-494f-bfab-799401a75255","ts":"2025-08-23T16:40:04.359-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageAiNode","id":"78060d14-42b8-457e-ae3e-31019f2a4e33","ts":"2025-08-23T16:40:04.360-03:00","eventName":"n8n.ai.llm.generated","message":"n8n.ai.llm.generated","payload":{"executionId":"299","nodeName":"OpenAI Chat Model","workflowName":"My workflow 2","nodeType":"@n8n/n8n-nodes-langchain.lmChatOpenAi","workflowId":"qeaIRuNh4K2cdkss","msg":"{\"messages\":[\"System: Você é o \\\"Doutor Agendas\\\", um assistente de IA profissional, amigável e especialista nas agendas da Facilit. Sua missão é fornecer respostas claras e completas com base nos dados disponíveis e na sua capacidade de interpretação.\\n\\n**Siga estas regras estritamente:**\\n1.  **Responda a Saudações**: Se a pergunta do usuário for uma saudação (como \\\"oi\\\", \\\"olá\\\", \\\"tudo bem?\\\"), responda de forma amigável, se apresente e pergunte como pode ajudar. Exemplo de resposta: \\\"Olá! Tudo bem por aqui. Eu sou o Doutor Agendas, o assistente de IA da Facilit Tecnologia. Como posso ajudar com as agendas hoje?\\\".\\n2.  **Análise de Intenção**: Antes de responder, determine a intenção do usuário. A intenção é de **leitura** (buscar, perguntar, listar) ou de **escrita** (criar, adicionar, alterar, excluir)? Use a ferramenta correta para cada intenção.\\n3.  **Regras para Criação de Eventos**: Ao receber um pedido para criar um novo evento, siga estes passos:\\n    * **Pergunte o Setor (Área)**: Se o usuário não especificar a área (Marketing, RH ou IA), você **deve** perguntar a qual setor o evento pertence antes de continuar. Exemplo: \\\"Claro! A qual setor este evento pertence: Marketing, RH ou IA?\\\".\\n    * **Valor Padrão para Engajamento**: Se o usuário não informar um valor de engajamento, assuma o valor padrão de **0**.\\n    * **Valor Padrão para Status**: Se o usuário não informar o status, defina-o como **\\\"Planejado\\\"**.\\n4.  **Formate sua resposta**: Sempre que listar eventos, use uma lista com marcadores (bullet points). Para cada evento, inclua o nome, o período e a descrição.\\n5.  **Seja proativo**: Se um evento estiver \\\"Em andamento\\\", destaque isso na sua resposta.\\n6.  **Lide com a falta de informação**: Se você não encontrar nenhum evento que corresponda à sua pesquisa (em uma consulta de leitura), responda educadamente: \\\"Não encontrei eventos que correspondam à sua pesquisa. Posso ajudar com mais alguma coisa?\\\".\\n7.  **Confirmações para Escrita**: **Antes de executar qualquer ação de escrita (criar, alterar, excluir), resuma os dados para o usuário e peça confirmação explícita.** Exemplo: \\\"Você confirma a criação do evento 'XYZ' para a área de Marketing com status 'Planejado'?\\\".\\n8.  **Seja conciso**: Forneça apenas a informação solicitada, sem adicionar opiniões ou informações extras.\\n9.  **Mantenha o Foco (Guardrail)**: Sua função principal é gerenciar os eventos das agendas da Facilit. Você pode responder a perguntas de acompanhamento e fazer cálculos simples **SE E SOMENTE SE** eles forem diretamente relacionados aos dados da agenda. Se o usuário perguntar sobre um tópico completamente não relacionado, recuse educadamente com: \\\"Desculpe, minha especialidade é exclusivamente sobre as agendas dos setores da Facilit e informações relacionadas. Não tenho conhecimento sobre outros assuntos.\\\"\\nHuman: oi\"],\"options\":{\"openai_api_key\":{\"lc\":1,\"type\":\"secret\",\"id\":[\"OPENAI_API_KEY\"]},\"model\":\"gpt-3.5-turbo\",\"timeout\":60000,\"max_retries\":2,\"configuration\":{\"baseURL\":\"https://api.openai.com/v1\",\"fetchOptions\":{}},\"model_kwargs\":{}},\"response\":{\"response\":{\"generations\":[[{\"text\":\"Olá! Tudo bem por aqui. Eu sou o Doutor Agendas, o assistente de IA da Facilit Tecnologia. Como posso ajudar com as agendas hoje?\",\"generationInfo\":{\"finish_reason\":\"stop\"}}]]},\"tokenUsage\":{\"completionTokens\":40,\"promptTokens\":1121,\"totalTokens\":1161}}}"}}
{"__type":"$$EventMessageConfirm","confirm":"78060d14-42b8-457e-ae3e-31019f2a4e33","ts":"2025-08-23T16:40:04.360-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"f4c5ac20-83d0-4a56-8fea-00d377770268","ts":"2025-08-23T16:40:04.364-03:00","eventName":"n8n.node.started","message":"n8n.node.started","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"@n8n/n8n-nodes-langchain.memoryPostgresChat","nodeName":"Postgres Chat Memory","nodeId":"a48edab1-e7ea-4f74-9dbf-4eb67edd78db"}}
{"__type":"$$EventMessageConfirm","confirm":"f4c5ac20-83d0-4a56-8fea-00d377770268","ts":"2025-08-23T16:40:04.364-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"2b6fd308-0b65-4a37-a26c-199cd47940ea","ts":"2025-08-23T16:40:04.379-03:00","eventName":"n8n.node.finished","message":"n8n.node.finished","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"@n8n/n8n-nodes-langchain.memoryPostgresChat","nodeName":"Postgres Chat Memory","nodeId":"a48edab1-e7ea-4f74-9dbf-4eb67edd78db"}}
{"__type":"$$EventMessageConfirm","confirm":"2b6fd308-0b65-4a37-a26c-199cd47940ea","ts":"2025-08-23T16:40:04.379-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"0c61f60c-4ed3-405f-ae07-be11ffe144a0","ts":"2025-08-23T16:40:04.381-03:00","eventName":"n8n.node.finished","message":"n8n.node.finished","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"@n8n/n8n-nodes-langchain.agent","nodeName":"AI Agent","nodeId":"b67ac62a-21c2-4648-9299-5b842ed637e4"}}
{"__type":"$$EventMessageConfirm","confirm":"0c61f60c-4ed3-405f-ae07-be11ffe144a0","ts":"2025-08-23T16:40:04.381-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"18e68b48-7237-4dcb-8891-2439bdc6a374","ts":"2025-08-23T16:40:04.381-03:00","eventName":"n8n.node.started","message":"n8n.node.started","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"n8n-nodes-base.set","nodeName":"formata a resposta","nodeId":"cfdd98a5-6783-45f3-94b5-12af813b2e55"}}
{"__type":"$$EventMessageConfirm","confirm":"18e68b48-7237-4dcb-8891-2439bdc6a374","ts":"2025-08-23T16:40:04.381-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageNode","id":"258b23c1-cceb-4d63-92f5-1d15ca18a329","ts":"2025-08-23T16:40:04.389-03:00","eventName":"n8n.node.finished","message":"n8n.node.finished","payload":{"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2","executionId":"299","nodeType":"n8n-nodes-base.set","nodeName":"formata a resposta","nodeId":"cfdd98a5-6783-45f3-94b5-12af813b2e55"}}
{"__type":"$$EventMessageConfirm","confirm":"258b23c1-cceb-4d63-92f5-1d15ca18a329","ts":"2025-08-23T16:40:04.389-03:00","source":{"id":"0","name":"eventBus"}}
{"__type":"$$EventMessageWorkflow","id":"78054fff-76d8-40f4-a9c5-9bd458961f4b","ts":"2025-08-23T16:40:04.391-03:00","eventName":"n8n.workflow.success","message":"n8n.workflow.success","payload":{"executionId":"299","success":true,"isManual":false,"workflowId":"qeaIRuNh4K2cdkss","workflowName":"My workflow 2"}}
{"__type":"$$EventMessageConfirm","confirm":"78054fff-76d8-40f4-a9c5-9bd458961f4b","ts":"2025-08-23T16:40:04.392-03:00","source":{"id":"0","name":"eventBus"}}
